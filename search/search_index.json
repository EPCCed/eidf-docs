{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"EIDF User Documentation","text":"<p>The Edinburgh International Data Facility (EIDF) is built and operated by EPCC at the University of Edinburgh. EIDF is a place to store, find and work with data of all kinds. You can find more information on the service and the research it supports on the EIDF website.</p> <p>For more information or for support with our services, please email <code>eidf@epcc.ed.ac.uk</code> in the first instance.</p>"},{"location":"#what-the-documentation-covers","title":"What the documentation covers","text":"<p>This documentation gives more in-depth coverage of current EIDF services. It is aimed primarily at developers or power users.</p>"},{"location":"#contributing-to-the-documentation","title":"Contributing to the documentation","text":"<p>The source for this documentation is publicly available in the EIDF documentation Github repository so that anyone can contribute to improve the documentation for the service. Contributions can be in the form of improvements or additions to the content and/or addition of Issues providing suggestions for how it can be improved.</p> <p>Full details of how to contribute can be found in the <code>README.md</code> file of the repository.</p> <p>This documentation set is a work in progress.</p>"},{"location":"#credits","title":"Credits","text":"<p>This documentation draws on the ARCHER2 National Supercomputing Service documentation.</p>"},{"location":"access/","title":"Accessing EIDF","text":"<p>Some EIDF services are accessed via a Web browser and some by \"traditional\" command-line <code>ssh</code>.</p> <p>All EIDF services use the EPCC SAFE service management back end, to ensure compatibility with other EPCC high-performance computing services.</p>"},{"location":"access/#web-access-to-virtual-machines","title":"Web Access to Virtual Machines","text":"<p>The Virtual Desktop VM service is browser-based, providing a virtual desktop interface (Apache Guacamole) for \"desktop-in-a-browser\" access. Applications to use the VM service are made through the EIDF Portal.</p> <p>EIDF Portal: how to ask to join an existing EIDF project and how to apply for a new project</p> <p>VDI access to virtual machines: how to connect to the virtual desktop interface.</p>"},{"location":"access/#ssh-access-to-virtual-machines","title":"SSH Access to Virtual Machines","text":"<p>Users with the appropriate permissions can also use <code>ssh</code> to login to Virtual Desktop VMs</p>"},{"location":"access/#ssh-access-to-computing-services","title":"SSH Access to Computing Services","text":"<p>Includes access to the following services:</p> <ul> <li>Cerebras CS-2</li> <li>Ultra2</li> </ul> <p>To login to most command-line services with <code>ssh</code> you should use the username and password you obtained from SAFE when you applied for access, along with the SSH Key you registered when creating the account. You can then login to the host following the appropriately linked instructions above.</p>"},{"location":"access/project/","title":"EIDF Portal","text":"<p>Projects using the Virtual Desktop cloud service are accessed via the EIDF Portal.</p> <p>The EIDF Portal uses EPCC's SAFE service management software to manage user accounts across all EPCC services. To log in to the Portal you will first be redirected to the SAFE log on page.  If you do not have a SAFE account follow the instructions in the SAFE documentation how to register and receive your password.</p>"},{"location":"access/project/#how-to-request-to-join-a-project","title":"How to request to join a project","text":"<p>Log in to the EIDF Portal and navigate to \"Projects\" and choose \"Request access\". Select the project that you want to join in the \"Project\" dropdown list - you can search for the project name or the project code, e.g. \"eidf0123\".</p> <p>Now you have to wait for your PI or project manager to accept your request to register.</p>"},{"location":"access/project/#how-to-apply-for-a-project-as-a-principal-investigator","title":"How to apply for a project as a Principal Investigator","text":""},{"location":"access/project/#create-a-new-project-application","title":"Create a new project application","text":"<p>Navigate to the EIDF Portal and log in via SAFE if necessary (see above).</p> <p>Once you have logged in click on \"Applications\" in the menu and choose \"New Application\".</p> <ol> <li>Fill in the Application Title - this will be the name of the project once it is approved.</li> <li>Choose a start date and an end date for your project.</li> <li>Click \"Create\" to create your project application.</li> </ol> <p>Once the application has been created you see an overview of the form you are required to fill in. You can revisit the application at any time by clicking on \"Applications\" and choosing \"Your applications\" to display all your current and past applications and their status, or follow the link https://portal.eidf.ac.uk/proposal/.</p>"},{"location":"access/project/#populate-a-project-application","title":"Populate a project application","text":"<p>Fill in each section of the application as required:</p> <ul> <li>Previous Use of Data Analytics or HPC Resources</li> <li>EIDF Desktop Software Requirements</li> <li>EIDF Data Management Plan</li> <li>Case for Support</li> </ul> <p>You can edit and save each section separately and revisit the application at a later time.</p>"},{"location":"access/project/#datasets","title":"Datasets","text":"<p>You are required to fill in a \"Dataset\" form for each dataset that you are planning to store and process as part of your project.</p> <p>We are required to ensure that projects involving \"sensitive\" data have the necessary permissions in place. The answers to these questions will enable us to decide what additional documentation we may need, and whether your project may need to be set up in an independently governed Safe Haven. There may be some projects we are simply unable to host for data protection reasons.</p>"},{"location":"access/project/#resource-requirements","title":"Resource Requirements","text":"<p>Add an estimate for each size and type of VM that is required.</p>"},{"location":"access/project/#submission","title":"Submission","text":"<p>When you are happy with your application, click \"Submit\". If there are missing fields that are required these are highlighted and your submission will fail.</p> <p>When your submission was successful the application status is marked as \"Submitted\" and now you have to wait while the EIDF approval team considers your application. You may be contacted if there are any questions regarding your application or further information is required, and you will be notified of the outcome of your application.</p>"},{"location":"access/project/#approved-project","title":"Approved Project","text":"<p>If your application was approved, refer to Data Science Virtual Desktops: Quickstart how to view your project and to Data Science Virtual Desktops: Managing VMs how to manage a project and how to create virtual machines and user accounts.</p>"},{"location":"access/ssh/","title":"SSH Access to VMs","text":""},{"location":"access/ssh/#ssh-access-to-virtual-machines-using-the-eidf-gateway-jump-host","title":"SSH Access to Virtual Machines using the EIDF-Gateway Jump Host","text":"<p>The EIDF-Gateway is an SSH gateway suitable for accessing EIDF Services via a console or terminal. As the gateway cannot be 'landed' on, a user can only pass through it and so the destination (the VM IP) has to be known for the service to work. Users connect to their VM through the jump host using their given accounts.</p>"},{"location":"access/ssh/#generating-and-adding-an-ssh-key","title":"Generating and Adding an SSH Key","text":"<p>In order to make use of the EIDF-Gateway, your EIDF account needs an SSH-Key associated with it. If you added one while creating your EIDF account, you can skip this step.</p>"},{"location":"access/ssh/#check-for-an-existing-ssh-key","title":"Check for an existing SSH Key","text":"<p>To check if you have an SSH Key associated with your account:</p> <ol> <li>Login to the Portal</li> <li>Select 'Your Projects'</li> <li>Select your project name</li> <li>Select your username</li> </ol> <p>If there is an entry under 'Credentials', then you're all setup. If not, you'll need to generate an SSH-Key, to do this:</p>"},{"location":"access/ssh/#generate-a-new-ssh-key","title":"Generate a new SSH Key","text":"<ol> <li>Open a new window of whatever terminal you will use to SSH to EIDF.</li> <li>Generate a new SSH Key: <code>$ ssh-keygen</code></li> <li>Input the directory and filename of they key. It's recommended to make this something like 'eidf-gateway' so it's easier to identify later</li> <li>Press enter to finish generating the key</li> </ol>"},{"location":"access/ssh/#adding-the-new-ssh-key-to-your-account-via-the-portal","title":"Adding the new SSH Key to your account via the Portal","text":"<ol> <li>Login into the Portal</li> <li>Select 'Your Projects'</li> <li>Select the relevant project</li> <li>Select your username</li> <li>Select the plus button under  'Credentials'</li> <li>Select 'Choose File' to upload the PUBLIC (.pub) ssh key generated in the last step, or open the .pub file you just created and copy its contents into the text box. <li>Click 'Upload Credential'   It should look something like this:</li>"},{"location":"access/ssh/#adding-a-new-ssh-key-via-safe","title":"Adding a new SSH Key via SAFE","text":"<p>This should not be necessary for most users, so only follow this process if you have an issue or have been told to by the EPCC Helpdesk. If you need to add an SSH Key directly to SAFE, you can follow this guide. However, select your '[username]@EIDF' login account, not 'Archer2' as specified in that guide.</p>"},{"location":"access/ssh/#using-the-ssh-key-to-access-eidf-windows-and-linux","title":"Using the SSH-Key to access EIDF - Windows and Linux","text":"<ol> <li>From your local terminal, import the SSH Key you generated above: <code>$ ssh-add [sshkey]</code></li> <li>This should return \"Identity added [Path to SSH Key]\" if successful. You can then follow the steps below to access your VM.</li> </ol>"},{"location":"access/ssh/#accessing-from-windows","title":"Accessing from Windows","text":"<p>Windows will require the installation of OpenSSH-Server or MobaXTerm to use SSH. Putty can also be used but won\u2019t be covered in this tutorial.</p>"},{"location":"access/ssh/#installing-and-using-openssh","title":"Installing and using OpenSSH","text":"<ol> <li>Click the \u2018Start\u2019 button at the bottom of the screen</li> <li>Click the \u2018Settings\u2019 cog icon</li> <li>Search in the top bar \u2018Add or Remove Programs\u2019 and select the entry</li> <li>Select the \u2018Optional Features\u2019 blue text link</li> <li>If \u2018OpenSSH Client\u2019 is not under \u2018Installed Features\u2019, click the \u2018Add a Feature\u2019 button</li> <li>Search \u2018OpenSSH Client\u2019</li> <li>Select the check box next to \u2018OpenSSH Client\u2019 and click \u2018Install\u2019</li> <li>Once this is installed, you can reach your VM by opening CMD and running: <code>$ ssh -J [username]@eidf-gateway.epcc.ed.ac.uk [username]@[vm_ip]</code></li> </ol>"},{"location":"access/ssh/#installing-mobaxterm","title":"Installing MobaXTerm","text":"<ol> <li>Download MobaXTerm from https://mobaxterm.mobatek.net/</li> <li>Once installed click the \u2018Session\u2019 button in the top left corner</li> <li>Click \u2018SSH\u2019</li> <li>In the \u2018Remote Host\u2019 section, specify the VM IP</li> <li>Click the \u2018Network Settings\u2019 Tab</li> <li>Click the \u2018SSH Gateway (jump host)\u2019 button in the middle</li> <li>Under Gateway Host, specify: eidf-gateway.epcc.ed.ac.uk</li> <li>Under Username, specify your username</li> <li>Click \u2018OK\u2019</li> <li>Click \u2018OK\u2019 to launch the session</li> <li>For the EIDF-Gateway and VM login prompts, use your password</li> </ol>"},{"location":"access/ssh/#accessing-from-macoslinux","title":"Accessing From MacOS/Linux","text":"<p>OpenSSH is installed on Linux and MacOS usually by default, so you can access the gateway natively from the terminal.  The '-J' flag is use to specify that we will access the second specified host by jumping through the first specified host like the example below. <code>$ ssh -J [username]@jumphost [username]@target</code></p> <p>To access EIDF Services: <code>$ ssh -J [username]@eidf-gateway.epcc.ed.ac.uk [username]@[vm_ip]</code></p>"},{"location":"access/virtualmachines-vdi/","title":"Virtual Machines (VMs) and the EIDF Virtual Desktop Interface (VDI)","text":"<p>Using the EIDF VDI, members of EIDF projects can connect to VMs that they have been granted access to. The EIDF VDI is a web portal that displays the connections to VMs a user has available to them, and then those connections can be easily initiated by clicking on them in the user interface. Once connected to the target VM, all interactions are mediated through the user's web browser by the EIDF VDI.</p>"},{"location":"access/virtualmachines-vdi/#login-to-the-eidf-vdi","title":"Login to the EIDF VDI","text":"<p>Once your membership request to join the appropriate EIDF project has been approved, you will be able to login to the EIDF VDI at https://eidf-vdi.epcc.ed.ac.uk/vdi.</p> <p>Authentication to the VDI is provided by SAFE, so if you do not have an active web browser session in SAFE, you will be redirected to the SAFE log on page. If you do not have a SAFE account follow the instructions in the SAFE documentation how to register and receive your password.</p>"},{"location":"access/virtualmachines-vdi/#navigating-the-eidf-vdi","title":"Navigating the EIDF VDI","text":"<p>After you have been authenticated through SAFE and logged into the EIDF VDI, if you have multiple connections available to you that have been associated with your user (typically in the case of research projects), you will be presented with the VDI home screen as shown below:</p> <p> VDI home page with list of available VM connections</p> <p>Adding connections</p> <p>Note that if a project manager has added a new connection for you it may not appear in the list of connections immediately. You must log out and log in again to refresh your connections list.</p>"},{"location":"access/virtualmachines-vdi/#connecting-to-a-vm","title":"Connecting to a VM","text":"<p>If you have only one connection associated with your VDI user account (typically in the case of workshops), you will be automatically connected to the target VM's virtual desktop. Once you are connected to the VM, you will be asked for your username and password as shown below (if you are participating in a workshop, then you may not be asked for credentials)</p> <p> VM virtual desktop connection user account login screen</p> <p>Once your credentials have been accepted, you will be connected to your VM's desktop environment. For instance, the screenshot below shows a resulting connection to a Xubuntu 20.04 VM with the Xfce desktop environment.</p> <p> VM virtual desktop</p>"},{"location":"access/virtualmachines-vdi/#vdi-features-for-the-virtual-desktop","title":"VDI Features for the Virtual Desktop","text":"<p>The EIDF VDI is an instance of the Apache Guacamole clientless remote desktop gateway. Since the connection to your VM virtual desktop is entirely managed through Guacamole in the web browser, there are some additional features to be aware of that may assist you when using the VDI.</p>"},{"location":"access/virtualmachines-vdi/#the-vdi-menu","title":"The VDI Menu","text":"<p>The Guacamole menu is a sidebar which is hidden until explicitly shown. On a desktop or other device which has a hardware keyboard, you can show this menu by pressing &lt;Ctrl&gt; + &lt;Alt&gt; + &lt;Shift&gt; on a Windows PC client, or &lt;Ctrl&gt; + &lt;Command&gt; + &lt;Shift&gt; on a Mac client. To hide the menu, you press the same key combination once again. The menu provides various options, including:</p> <ul> <li>Reading from (and writing to) the clipboard of the remote desktop</li> <li>Uploading and downloading files</li> <li>Zooming in and out of the remote display</li> </ul>"},{"location":"access/virtualmachines-vdi/#clipboard-copy-and-paste-functionality","title":"Clipboard Copy and Paste Functionality","text":"<p>After you have activated the Guacamole menu using the key combination above, at the top of the menu is a text area labeled \u201cclipboard\u201d along with some basic instructions:</p> <p>Text copied/cut within Guacamole will appear here. Changes to the text below will affect the remote clipboard.</p> <p>The text area functions as an interface between the remote clipboard and the local clipboard. Text from the local clipboard can be pasted into the text area, causing that text to be sent to the clipboard of the remote desktop. Similarly, if you copy or cut text within the remote desktop, you will see that text within the text area, and can manually copy it into the local clipboard if desired.</p> <p>You can use the standard keyboard shortcuts to copy text from your client PC or Mac to the Guacamole menu clipboard, then again copy that text from the Guacamole menu clipboard into an application or CLI terminal on the VM's remote desktop. An example of using the copy and paste clipboard is shown in the screenshot below.</p> <p> The EIDF VDI Clipboard</p>"},{"location":"access/virtualmachines-vdi/#keyboard-language-and-layout-settings","title":"Keyboard Language and Layout Settings","text":"<p>For users who do not have standard <code>English (UK)</code> keyboard layouts, key presses can have unexpected translations as they are transmitted to your VM. Please contact the EIDF helpdesk at eidf@epcc.ed.ac.uk if you are experiencing difficulties with your keyboard mapping, and we will help to resolve this by changing some settings in the Guacamole VDI connection configuration.</p>"},{"location":"access/virtualmachines-vdi/#further-information","title":"Further information","text":""},{"location":"bespoke/","title":"Bespoke Services","text":"<p>Ed-DaSH</p>"},{"location":"bespoke/eddash/","title":"EIDFWorkshops","text":"<p>Ed-DaSH Notebook Service</p> <p>Ed-DaSH Virtual Machines</p> <p>JupyterHub Notebook Service Access</p>"},{"location":"bespoke/eddash/jhub-git/","title":"EIDF JupyterHub Notebook Service Access","text":"<p>Using the EIDF JupyterHub, users can access a range of services including standard interactive Python notebooks as well as RStudio Server.</p>"},{"location":"bespoke/eddash/jhub-git/#ed-dash-workshops","title":"Ed-DaSH Workshops","text":""},{"location":"bespoke/eddash/jhub-git/#accessing","title":"Accessing","text":"<p>In order to access the EIDF JupyterHub, authentication is through GitHub, so you must have an account on https://github.com and that account must be a member of the appropriate organization in GitHub. Please ask your project admin or workshop instructor for the workshop GitHub organization details. Please follow the relevant steps listed below to prepare.</p> <ol> <li>If you do not have a GitHub account associated with the email you registered for the workshop with, follow the steps    described in Step 1: Creating a GitHub Account</li> <li>If you do already have a GitHub account associated with the email address you registered for the workshop with,    follow the steps described in    Step 2: Registering with the Workshop GitHub Organization</li> </ol>"},{"location":"bespoke/eddash/jhub-git/#step-1-creating-a-github-account","title":"Step 1: Creating a GitHub Account","text":"<ol> <li>Visit https://github.com/signup in your browser</li> <li>Enter the email address that you used to register for the workshop</li> <li>Complete the remaining steps of the GitHub registration process</li> <li>Send an email to ed-dash-support@mlist.is.ed.ac.uk from your GitHub    registered email address, including your GitHub username, and ask for an invitation to the workshop GitHub organization</li> <li>Wait for an email from GitHub inviting you to join the organization, then follow the steps in    Step 2: Registering with the Workshop GitHub Organization</li> </ol>"},{"location":"bespoke/eddash/jhub-git/#step-2-registering-with-the-workshop-github-organization","title":"Step 2: Registering With the Workshop GitHub Organization","text":"<ol> <li>If you already have a GitHub account associated with the email address that you registered for the workshop with, you    should have received an email inviting you to join the relevant GitHub organization. If you have not, email    ed-dash-support@mlist.is.ed.ac.uk from your GitHub registered email    address, including your GitHub username, and ask for an invitation to the workshop GitHub organization</li> <li>Once you have been invited to the GitHub organization, you will receive an email with the invitation; click on the     button as shown     Invitation to join the workshop GitHub organization</li> <li>Clicking on the button in the email will open a new web page with another form as shown below     Form to accept the invitation to join the GitHub organization</li> <li>Again, click on the  button to    confirm, then the Ed-DaSH-Training GitHub organization page will open</li> </ol>"},{"location":"bespoke/eddash/safe-registration/","title":"Accessing","text":"<p>In order to access the EIDF VDI and connect to EIDF data science cloud VMs, you need to have an active SAFE account. If you already have a SAFE account, you can skip ahead to the Request Project Membership instructions. Otherwise, follow the Register Account in EPCC SAFE instructions immediately below to create the account.</p> <p>Info</p> <p>Please also see Register and Join a project in the SAFE documentation for more information.</p>"},{"location":"bespoke/eddash/safe-registration/#step-1-register-account-in-epcc-safe","title":"Step 1: Register Account in EPCC SAFE","text":"<ol> <li>Go to SAFE signup and complete the registration form<ol> <li>Mandatory fields are: Email, Nationality, First name, Last name, Institution for reporting, Department, and Gender</li> <li>Your Email should be the one you used to register for the EIDF service (or Ed-DaSH workshop)</li> <li>If you are unsure, enter 'University of Edinburgh' for Institution for reporting and 'EIDF' for Department     SAFE registration form</li> </ol> </li> <li>Submit the form, then accept the    SAFE Acceptable Use policy on the next    page     SAFE User Access Agreement</li> <li>After you have completed the registration form and accepted the policy, you will receive an email from    support@archer2.ac.uk with a password reset URL</li> <li>Visit the link in the email and generate a new password, then submit the form</li> <li>You will now be logged into your new account in SAFE</li> </ol>"},{"location":"bespoke/eddash/safe-registration/#step-2-request-project-membership","title":"Step 2: Request Project Membership","text":"<ol> <li>While logged into SAFE, select the \u2018Request Access\u2019 menu item from the 'Projects' menu in the top menu bar</li> <li>This will open the 'Apply for project membership' page</li> <li>Enter the appropriate project ID into the \u2018Project\u2019 field and click the \u2018Next\u2019 button     Apply for project membership in SAFE</li> <li>In the 'Access route' drop down field that appears, select 'Request membership' (not 'Request machine account')     Request project membership in SAFE</li> <li>The project owner will then receive notification of the application and accept your request</li> </ol>"},{"location":"bespoke/eddash/workshops/","title":"Workshop Setup","text":"<p>Please follow the instructions in JupyterHub Notebook Service Access to arrange access to the EIDF Notebook service before continuing. The table below provides the login URL and the relevant GitHub organization to register with.</p> Workshop Login URL GitHub Organization Ed-DaSH Introduction to Statistics https://secure.epcc.ed.ac.uk/ed-dash-hub Ed-DaSH-Training Ed-DaSH High-Dimensional Statistics https://secure.epcc.ed.ac.uk/ed-dash-hub Ed-DaSH-Training Ed-DaSH Introduction to Machine Learning with Python https://secure.epcc.ed.ac.uk/ed-dash-hub Ed-DaSH-Training N8 CIR Introduction to Artificial Neural Networks in Python https://secure.epcc.ed.ac.uk/ed-dash-hub Ed-DaSH-Training <p>Please follow the sequence of instructions described in the sections below to get ready for the workshop:</p> <ol> <li>Step 1: Accessing the EIDF Notebook Service for the First Time</li> <li>Step 2: Login to EIDF JupyterHub</li> <li>Step 3: Creating a New R Script</li> </ol>"},{"location":"bespoke/eddash/workshops/#step-1-accessing-the-eidf-notebook-service-for-the-first-time","title":"Step 1: Accessing the EIDF Notebook Service for the First Time","text":"<p>We will be using the Notebook service provided by the Edinburgh International Data Facility (EIDF). Follow the steps listed below to gain access.</p> <ul> <li>Visit https://secure.epcc.ed.ac.uk/ed-dash-hub in your browser</li> </ul> <p>Warning</p> <p>If you are receiving an error response such as '403: Forbidden' when you try to access https://secure.epcc.ed.ac.uk/ed-dash-hub, please send an email to ed-dash-support@mlist.is.ed.ac.uk to request access and also include your IP address which you can find by visiting https://whatismyipaddress.com/ in your browser. Please be aware that if you are accessing the service from outside of the UK, your access might be blocked until you have emailed us with your IP address.</p> <ol> <li>Click on the  button</li> <li>You will be asked to sign in to GitHub, as shown in the form below     GitHub sign in form for access to EIDF Notebook Service</li> <li>Enter your GitHub credentials, or click on the \u2018Create an account\u2019 link if you do not already have one, and follow    the prerequisite instructions to register with GitHub and join the workshop organization</li> <li>Click on the \u2018Sign in\u2019 button</li> <li>On the next page, you will be asked whether to authorize the workshop organization to access your GitHub account as    shown below     GitHub form requesting authorization for the workshop organization</li> <li>Click on the  button</li> <li>At this point, you will receive an email to the email address that you registered with in GitHub, stating that    \u201cA third-party OAuth application has been added to your account\u201d for the workshop</li> <li>If you receive a \u2018403 : Forbidden\u2019 error message on the next screen (if you did not already do so as in step 4 of the     prerequisites section) send an email to ed-dash-support@mlist.is.ed.ac.uk     from your GitHub registered email address, including your GitHub username, and ask for an invitation to the workshop     organization. Otherwise, skip to the next step. N.B. If you are accessing the service from outside of the UK, you     may see this error; if so, please contact     ed-dash-support@mlist.is.ed.ac.uk to enable access</li> <li>If you receive a \u2018400 : Bad Request\u2019 error message, you need to accept the invitation that has been emailed to you      to join the workshop organization as in the prerequisite instructions</li> </ol>"},{"location":"bespoke/eddash/workshops/#step-2-login-to-the-eidf-notebook-service","title":"Step 2: Login to the EIDF Notebook Service","text":"<p>Now that you have completed registration with the workshop GitHub organization, you can access the workshop RStudio Server in EIDF.</p> <ol> <li>Return to the https://secure.epcc.ed.ac.uk/ed-dash-hub</li> <li>You will be presented with a choice of server as a list of radio buttons. Select the appropriate one as labelled for    your workshop and press the orange 'Start' button</li> <li>You will now be redirected to the hub spawn pending page for your individual server instance</li> <li>You will see a message stating that your server is launching. If the page has not updated after 10 seconds, simply    refresh the page with the &lt;CTRL&gt; + R or &lt;F5&gt; keys in Windows, or &lt;CMD&gt; + R in macOS</li> <li>Finally, you will be redirected to either the RStudio Server if it's a statistics workshop, or the Jupyter Lab    dashboard otherwise, as shown in the screenshots below     The RStudio Server UI The Jupyter Lab Dashboard</li> </ol>"},{"location":"bespoke/eddash/workshops/#step-3-creating-a-new-r-script","title":"Step 3: Creating a New R Script","text":"<p>Follow these quickstart instructions to create your first R script in RStudio Server!</p>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#eidf-frequently-asked-questions","title":"EIDF Frequently Asked Questions","text":""},{"location":"faq/#how-do-i-contact-the-eidf-helpdesk","title":"How do I contact the EIDF Helpdesk?","text":"<p>Email us at eidf@epcc.ed.ac.uk.</p>"},{"location":"faq/#new-vms-and-vdi-connections","title":"New VMs and VDI connections","text":"<p>My project manager gave me access to a VM but the connection doesn't show up in the VDI connections list?</p> <p>This may happen when a machine/VM was added to your connections list while you were logged in to the VDI. Please refresh the connections list by logging out and logging in again, and the new connections should appear.</p>"},{"location":"faq/#non-default-ssh-keys","title":"Non-default SSH Keys","text":"<p>I have different SSH keys for the SSH gateway and my VM, or I use a key which does not have the default name (~/.ssh/id_rsa) and I cannot login.</p> <p>The command syntax shown in our SSH documentation (using the <code>-J &lt;username&gt;@eidf-gateway</code> stanza) makes assumptions about SSH keys and their naming. You should try the full version of the command:</p> <pre><code>ssh -o ProxyCommand=\"ssh -i ~/.ssh/&lt;gateway_private_key&gt; -W %h:%p &lt;gateway_username&gt;@eidf-gateway.epcc.ed.ac.uk\" -i ~/.ssh/&lt;vm_private_key&gt; &lt;vm_username&gt;@&lt;vm_ip&gt;\n</code></pre> <p>Note that for the majority of users, gateway_username and vm_username are the same, as are gateway_private_key and vm_private_key</p>"},{"location":"known-issues/","title":"Known Issues","text":""},{"location":"known-issues/#virtual-desktops","title":"Virtual desktops","text":"<p>No known issues.</p>"},{"location":"overview/","title":"A Unique Service for Academia and Industry","text":"<p>The Edinburgh International Data Facility (EIDF) is a growing set of data and compute services developed to support the Data Driven Innovation Programme at the University of Edinburgh.</p> <p>Our goal is to support learners, researchers and innovators across the spectrum, with services from data discovery through simple learn-as-you-play-with-data notebooks to GPU-enabled machine-learning platforms for driving AI application development.</p>"},{"location":"overview/#eidf-and-the-data-driven-innovation-initiative","title":"EIDF and the Data-Driven Innovation Initiative","text":"<p>Launched at the end of 2018, the Data-Driven Innovation (DDI) programme is one of six funded within the Edinburgh &amp; South-East Scotland City Region Deal. The DDI programme aims to make Edinburgh the \u201cData Capital of Europe\u201d, with ambitious targets to support, enhance and improve talent, research, commercial adoption and entrepreneurship across the region through better use of data.</p> <p>The programme targets ten industry sectors, with interactions managed through five DDI Hubs: the Bayes Centre, the Usher Institute, Edinburgh Futures Institute, the National Robotarium, and Easter Bush. The activities of these Hubs are underpinned by EIDF.</p>"},{"location":"overview/acknowledgements/","title":"Acknowledging EIDF","text":"<p>If you make use of EIDF services in your work, we encourage you to acknowledge us in any publications.</p> <p>Acknowledgement of using the facility in publications can be used as an identifiable metric to evaluate the scientific support provided, and helps promote the impact of the wider DDI Programme.</p> <p>We encourage our users to ensure that an acknowledgement of EIDF is included in the relevant section of their manuscript. We would suggest:</p> <p>This work was supported by the Edinburgh International Data Facility (EIDF) and the Data-Driven Innovation Programme at the University of Edinburgh.</p>"},{"location":"overview/contacts/","title":"Contact","text":"<p>The Edinburgh International Data Facility is located at the Advanced Computing Facility of EPCC, the supercomputing centre based at the University of Edinburgh.</p>"},{"location":"overview/contacts/#email-us","title":"Email us","text":"<p>Email EIDF: eidf@epcc.ed.ac.uk</p>"},{"location":"overview/contacts/#sign-up","title":"Sign up","text":"<p>Join our mailing list to receive updates about EIDF.</p>"},{"location":"safe-haven-services/network-access-controls/","title":"Safe Haven Network Access Controls","text":"<p>The TRE Safe Haven services are protected against open, global access by IPv4 source address filtering. These network access controls ensure that connections are permitted only from Safe Haven controller partner networks and collaborating research institutions.</p> <p>The network access controls are managed by the Safe Haven service controllers who instruct EPCC to add and remove the IPv4 addresses allowed to connect to the service gateway. Researchers must connect to the Safe Haven service by first connecting to their institution or corporate VPN and then connecting to the Safe Haven.</p> <p>The Safe Haven IG controller and research project co-ordination teams must submit and confirm IPv4 address filter changes to their service help desk via email.</p>"},{"location":"safe-haven-services/overview/","title":"Safe Haven Services","text":"<p>The EIDF Trusted Research Environment (TRE) hosts several Safe Haven services that enable researchers to work with sensitive data in a secure environment. These services are operated by EPCC in partnership with Safe Haven controllers who manage the Information Governance (IG) appropriate for the research activities and the data access of their Safe Haven service.</p> <p>It is the responsibility of EPCC as the Safe Haven operator to design, implement and administer the technical controls required to deliver the Safe Haven security regime demanded by the Safe Haven controller.</p> <p>The role of the Safe Haven controller is to satisfy the needs of the researchers and the data suppliers. The controller is responsible for guaranteeing the confidentiality needs of the data suppliers and matching these with the availability needs of the researchers.</p> <p>The service offers secure data sharing and analysis environments allowing researchers access to sensitive data under the terms and conditions prescribed by the data providers. The service prioritises the requirements of the data provider over the demands of the researcher and is an academic TRE operating under the guidance of the Five Safes framework.</p> <p>The TRE has dedicated, private cloud infrastructure at EPCC's Advanced Computing Facility (ACF) data centre and has its own HPC cluster and high-performance file systems. When a new Safe Haven service is commissioned in the TRE it is created in a new virtual private cloud providing the Safe Haven service controller with an independent IG domain separate from other Safe Havens in the TRE. All TRE service infrastructure and all TRE project data are hosted at ACF.</p> <p>If you have any questions about the EIDF TRE or about Safe Haven services, please contact us.</p>"},{"location":"safe-haven-services/safe-haven-access/","title":"Safe Haven Service Access","text":"<p>Safe Haven services are accessed from a registered network connection address using a browser. The service URL will be \"https://shs.epcc.ed.ac.uk/&lt;service&gt;\" where &lt;service&gt; is the Safe Haven service name. The Safe Haven access process is in three stages from multi-factor authentication to project desktop login. Researchers who are active in many research projects and in more than one Safe Haven will need to pay attention to the service they connect to, the project desktop they login to, and the accounts and identities they are using.</p>"},{"location":"safe-haven-services/safe-haven-access/#safe-haven-login","title":"Safe Haven Login","text":"<p>The first step in the process prompts the user for a Safe Haven username and then for a session PIN code sent via SMS text to the mobile number registered for the username. Valid PIN code entry allows the user access to all of the Safe Haven service remote desktop gateways for up to 24 hours without entry of a new PIN code. Hence, a user who has successfully entered a PIN code once can access shs.epcc.ed.ac.uk/haven1 and shs.epcc.ed.ac.uk/haven2 without repeating PIN code identity verification. When a valid PIN code is accepted, the user is prompted to accept the service use terms and conditions.</p> <p>Registration of the user mobile phone number is managed by the Safe Haven IG controller and research project co-ordination teams by submitting and confirming user account changes through the dedicated service help desk via email.</p>"},{"location":"safe-haven-services/safe-haven-access/#remote-desktop-gateway-login","title":"Remote Desktop Gateway Login","text":"<p>The second step in the access process is for the user to login to the Safe Haven service remote desktop gateway so that a project desktop connection can be chosen. The user is prompted for a Safe Haven service account identity.</p> <p> VDI Safe Haven Service Login Page</p> <p>Safe Haven accounts are managed by the Safe Haven IG controller and research project co-ordination teams by submitting and confirming user account changes through the dedicated service help desk via email.</p>"},{"location":"safe-haven-services/safe-haven-access/#project-desktop-connection","title":"Project Desktop Connection","text":"<p>The third stage in the process is to select the virtual connection from those available on the account's home page. An example home page is shown below offering two connection options to the same virtual machine. Remote desktop connections will have an _rdp suffix and SSH terminal connections have an _ssh suffix. The most recently used connections are shown as screen thumbnails at the top of the page and all the connections available to the user are shown in a tree list below this.</p> <p> VM connections available home page</p> <p>The remote desktop gateway software used in the Safe Haven services in the TRE is the Apache Guacamole web application. Users new to this application can find the user manual here. It is recommended that users read this short guide, but note that the data sharing features such as copy and paste, connection sharing, and file transfers are disabled on all connections in the TRE Safe Havens.</p> <p>A remote desktop or SSH connection is used to access data provided for a specific research project. If a researcher is working on multiple projects within a Safe Haven they can only login to one project at a time. Some connections may allow the user to login to any project and some connections will only allow the user to login into one specific project. This depends on project IG restrictions specified by the Safe Haven and project controllers.</p> <p>Project desktop accounts are managed by the Safe Haven IG controller and research project co-ordination teams by submitting and confirming user account changes through the dedicated service help desk via email.</p>"},{"location":"safe-haven-services/using-the-hpc-cluster/","title":"Using the TRE HPC Cluster","text":""},{"location":"safe-haven-services/using-the-hpc-cluster/#introduction","title":"Introduction","text":"<p>The TRE HPC system, also called the SuperDome Flex, is a single node, large memory HPC system. It is provided for compute and data intensive workloads that require more CPU, memory, and better IO performance than can be provided by the project VMs, which have the performance equivalent of small rack mount servers.</p>"},{"location":"safe-haven-services/using-the-hpc-cluster/#specifications","title":"Specifications","text":"<p>The system is an HPE SuperDome Flex configured with 1152 hyper-threaded cores (576 physical cores) and 18TB of memory, of which 17TB is available to users. User home and project data directories are on network mounted storage pods running the BeeGFS parallel filesystem. This storage is built in blocks of 768TB per pod. Multiple pods are available in the TRE for use by the HPC system and the total storage available will vary depending on the project configuration.</p> <p>The HPC system runs Red Hat Enterprise Linux, which is not the same flavour of Linux as the Ubuntu distribution running on the desktop VMs. However, most jobs in the TRE run Python and R, and there are few issues moving between the two version of Linux. Use of virtual environments is strongly encouraged to ensure there are no differences between the desktop and HPC runtimes.</p>"},{"location":"safe-haven-services/using-the-hpc-cluster/#software-management","title":"Software Management","text":"<p>All system level software installed and configured on the TRE HPC system is managed by the TRE admin team. Software installation requests may be made by the Safe Haven IG controllers, research project co-ordinators, and researchers by submitting change requests through the dedicated service help desk via email.</p> <p>Minor software changes will be made as soon as admin effort can be allocated. Major changes are likely to be scheduled for the TRE monthly maintenance session on the first Thursday of each month.</p>"},{"location":"safe-haven-services/using-the-hpc-cluster/#hpc-login","title":"HPC Login","text":"<p>Login to the HPC system is from the project VM using SSH and is not direct from the VDI. The HPC cluster accounts are the same accounts used on the project VMs, with the same username and password. All project data access on the HPC system is private to the project accounts as it is on the VMs, but it is important to understand that the TRE HPC cluster is shared by projects in other TRE Safe Havens.</p> <p>To login to the HPC cluster from the project VMs use <code>ssh shs-sdf01</code> from an xterm. If you wish to avoid entry of the account password for every SSH session or remote command execution you can use SSH key authentication by following the SSH key configuration instructions here. SSH key passphrases are not strictly enforced within the Safe Haven but are strongly encouraged.</p>"},{"location":"safe-haven-services/using-the-hpc-cluster/#running-jobs","title":"Running Jobs","text":"<p>To use the HPC system fully and fairly, all jobs must be run using the SLURM job manager. More information about SLURM, running batch jobs and running interactive jobs can be found here. Please read this carefully before using the cluster if you have not used SLURM before. The SLURM site also has a set of useful tutorials on HPC clusters and job scheduling.</p> <p>All analysis and processing jobs must be run via SLURM. SLURM manages access to all the cores on the system beyond the first 32. If SLURM is not used and programs are run directly from the command line, then there are only 32 cores available, and these are shared by the other users. Normal code development, short test runs, and debugging can be done from the command line without using SLURM.</p> <p>There is only one node</p> <p>The HPC system is a single node with all cores sharing all the available memory. SLURM jobs should always specify '#SBATCH --nodes=1' to run correctly.</p> <p>SLURM email alerts for job status change events are not supported in the TRE.</p>"},{"location":"safe-haven-services/using-the-hpc-cluster/#resource-limits","title":"Resource Limits","text":"<p>There are no resource constraints imposed on the default SLURM partition at present. There are user limits (see the output of <code>ulimit -a</code>). If a project has a requirement for more than 200 cores, more than 4TB of memory, or an elapsed runtime of more than 96 hours, a resource reservation request should be made by the researchers through email to the service help desk.</p> <p>There are no storage quotas enforced in the HPC cluster storage at present. The project storage requirements are negotiated, and space allocated before the project accounts are released. Storage use is monitored, and guidance will be issued before quotas are imposed on projects.</p> <p>The HPC system is managed in the spirit of utilising it as fully as possible and as fairly as possible. This approach works best when researchers are aware of their project workload demands and cooperate rather than compete for cluster resources.</p>"},{"location":"safe-haven-services/using-the-hpc-cluster/#python-jobs","title":"Python Jobs","text":"<p>A basic script to run a Python job in a virtual environment is shown below.</p> <pre><code>#!/bin/bash\n#\n#SBATCH --export=ALL                  # Job inherits all env vars\n#SBATCH --job-name=my_job_name        # Job name\n#SBATCH --mem=512G                    # Job memory request\n#SBATCH --output=job-%j.out           # Standard output file\n#SBATCH --error=job-%j.err            # Standard error file\n#SBATCH --nodes=1                     # Run on a single node\n#SBATCH --ntasks=1                    # Run one task per node\n#SBATCH --time=02:00:00               # Time limit hrs:min:sec\n#SBATCH --partition standard          # Run on partition (queue)\n\npwd\nhostname\ndate \"+DATE: %d/%m/%Y TIME: %H:%M:%S\"\necho \"Running job on a single CPU core\"\n\n# Create the job\u2019s virtual environment\nsource ${HOME}/my_venv/bin/activate\n\n# Run the job code\npython3 ${HOME}/my_job.py\n\ndate \"+DATE: %d/%m/%Y TIME: %H:%M:%S\"\n</code></pre>"},{"location":"safe-haven-services/using-the-hpc-cluster/#mpi-jobs","title":"MPI Jobs","text":"<p>An example script for a multi-process MPI example is shown. The system currently supports MPICH MPI.</p> <pre><code>#!/bin/bash\n#\n#SBATCH --export=ALL\n#SBATCH --job-name=mpi_test\n#SBATCH --output=job-%j.out\n#SBATCH --error=job-%j.err\n#SBATCH --nodes=1\n#SBATCH --ntasks-per-node=5\n#SBATCH --time=05:00\n#SBATCH --partition standard\n\necho \"Submitted Open MPI job\"\necho \"Running on host ${HOSTNAME}\"\necho \"Using ${SLURM_NTASKS_PER_NODE} tasks per node\"\necho \"Using ${SLURM_CPUS_PER_TASK} cpus per task\"\nlet mpi_threads=${SLURM_NTASKS_PER_NODE}*${SLURM_CPUS_PER_TASK}\necho \"Using ${mpi_threads} MPI threads\"\n\n# load Open MPI module\nmodule purge\nmodule load mpi/mpich-x86_64\n\n# run mpi program\nmpirun ${HOME}/test_mpi\n</code></pre>"},{"location":"safe-haven-services/using-the-hpc-cluster/#managing-files-and-data","title":"Managing Files and Data","text":"<p>There are three file systems to manage in the VM and HPC environment.</p> <ol> <li>The desktop VM /home file system. This can only be used when you login to the VM remote desktop. This file system is local to the VM and is not backed up.</li> <li>The HPC system /home file system. This can only be used when you login to the HPC system using SSH from the desktop VM. This file system is local to the HPC cluster and is not backed up.</li> <li>The project file and data space in the /safe_data file system. This file system can only be used when you login to a VM remote desktop session. This file system is backed up.</li> </ol> <p>The /safe_data file system with the project data cannot be used by the HPC system. The /safe_data file system has restricted access and a relatively slow IO performance compared to the parallel BeeGFS file system storage on the HPC system.</p> <p>The process to use the TRE HPC service is to copy and synchronise the project code and data files on the /safe_data file system with the HPC /home file system before and after login sessions and job runs on the HPC cluster. Assuming all the code and data required for the job is in a directory 'current_wip' on the project VM, the workflow is as follows:</p> <ol> <li>Copy project code and data to the HPC cluster (from the desktop VM) <code>rsync -avPz -e ssh /safe_data/my_project/current_wip shs-sdf01:</code></li> <li>Run jobs/tests/analysis <code>ssh shs-sdf01</code>, <code>cd current_wip</code>, <code>sbatch/srun my_job</code></li> <li>Copy any changed project code and data back to /safe_data (from the desktop VM) <code>rsync -avPz -e ssh shs-sdf01:current_wip /safe_data/my_project</code></li> <li>Optionally delete the code and data from the HPC cluster working directory.</li> </ol>"},{"location":"safe-haven-services/virtual-desktop-connections/","title":"Virtual Machine Connections","text":"<p>Sessions on project VMs may be either remote desktop (RDP) logins or SSH terminal logins. Most users will prefer to use the remote desktop connections, but the SSH terminal connection is useful when remote network performance is poor and it must be used for account password changes.</p>"},{"location":"safe-haven-services/virtual-desktop-connections/#first-time-login-and-account-password-changes","title":"First Time Login and Account Password Changes","text":"<p>Account Password Changes</p> <p>Note that first time account login cannot be through RDP as a password change is required. Password reset logins must be SSH terminal sessions as password changes can only be made through SSH connections.</p>"},{"location":"safe-haven-services/virtual-desktop-connections/#connecting-to-a-remote-ssh-session","title":"Connecting to a Remote SSH Session","text":"<p>When a VM SSH connection is selected the browser screen becomes a text terminal and the user is prompted to \"Login as: \" with a project account name, and then prompted for the account password. This connection type is equivalent to a standard xterm SSH session.</p>"},{"location":"safe-haven-services/virtual-desktop-connections/#connecting-to-a-remote-desktop-session","title":"Connecting to a Remote Desktop Session","text":"<p>Remote desktop connections work best by first placing the browser in Full Screen mode and leaving it in this mode for the entire duration of the Safe Haven session.</p> <p>When a VM RDP connection is selected the browser screen becomes a remote desktop presenting the login screen shown below.</p> <p> VM virtual desktop connection user account login screen</p> <p>Once the project account credentials have been accepted, a remote dekstop similar to the one shown below is presented. The default VM environment in the TRE is Ubuntu 22.04 with the Xfce desktop.</p> <p> VM virtual desktop</p>"},{"location":"services/","title":"EIDF Services","text":""},{"location":"services/#computing-services","title":"Computing Services","text":"<p>Data Science Virtual Desktops</p> <p>Managed JupyterHub</p> <p>Cerebras CS-2</p> <p>Ultra2</p>"},{"location":"services/#data-management-services","title":"Data Management Services","text":"<p>Data Catalogue</p>"},{"location":"services/cs2/","title":"Cerebras CS-2","text":"<p>Get Access</p> <p>Running codes</p>"},{"location":"services/cs2/access/","title":"Cerebras CS-2","text":""},{"location":"services/cs2/access/#getting-access","title":"Getting Access","text":"<p>Access to the Cerebras CS-2 system is currently by arrangement with EPCC. Please email eidf@epcc.ed.ac.uk with a short description of the work you would like to perform.</p>"},{"location":"services/cs2/run/","title":"Cerebras CS-2","text":""},{"location":"services/cs2/run/#introduction","title":"Introduction","text":"<p>The Cerebras CS-2 system is attached to the SDF-CS1 (Ultra2) system which serves as a host, provides access to files, the SLURM batch system etc.</p>"},{"location":"services/cs2/run/#login","title":"Login","text":"<p>To login to the host system, use the username and password you obtain from SAFE, along with the SSH Key you registered when creating the account. You can then login directly to the host via: <code>ssh &lt;username&gt;@sdf-cs1.epcc.ed.ac.uk</code></p>"},{"location":"services/cs2/run/#running-jobs","title":"Running Jobs","text":"<p>All jobs must be run via SLURM to avoid inconveniencing other users of the system. The <code>csrun_cpu</code> and <code>csrun_wse</code> scripts themselves contain calls to <code>srun</code> to work with the SLURM system, so note the omission of <code>srun</code> in the below examples. Users can either copy these files from <code>/home/y26/shared/bin</code> to their own home directory should they wish, or use the centrally supplied version. In either case, ensure they are in your <code>PATH</code> before execution, eg:</p> <pre><code>export PATH=$PATH:/home/y26/shared/bin\n</code></pre>"},{"location":"services/cs2/run/#run-on-the-host","title":"Run on the host","text":"<p>Jobs can be run on the host system (eg simulations, test scripts) using the <code>csrun_cpu</code> wrapper. Here is the example from the Cerebras documentation on PyTorch. Note that this assumes csrun_cpu is in your path.</p> <pre><code>#!/bin/bash\n#SBATCH --job-name=Example        # Job name\n#SBATCH --cpus-per-task=2         # Request 2 cores\n#SBATCH --output=example_%j.log   # Standard output and error log\n#SBATCH --time=01:00:00           # Set time limit for this job to 1 hour\n\ncsrun_cpu python-pt run.py --mode train --compile_only --params configs/&lt;name-of-the-params-file.yaml&gt;\n</code></pre>"},{"location":"services/cs2/run/#run-on-the-cs-2","title":"Run on the CS-2","text":"<p>The following will run the above PyTorch example on the CS-2 - note the <code>--cs_ip</code> argument with port number passed in via the command line, and the inclusion of the <code>--gres</code> option to request use of the CS-2 via SLURM.</p> <pre><code>#!/bin/bash\n#SBATCH --job-name=Example        # Job name\n#SBATCH --tasks-per-node=8        # There is only one node on SDF-CS1\n#SBATCH --cpus-per-task=16        # Each cpu is a core\n#SBATCH --gres=cs:1               # Request CS-2 system\n#SBATCH --output=example_%j.log   # Standard output and error log\n#SBATCH --time=01:00:00           # Set time limit for this job to 1 hour\n\n\ncsrun_wse python-pt run.py --mode train --cs_ip 172.24.102.121:9000 --params configs/&lt;name-of-the-params-file.yaml&gt;\n</code></pre>"},{"location":"services/datacatalogue/","title":"EIDF Data Catalogue Information","text":"<p>QuickStart</p> <p>Tutorial</p> <p>Documentation</p> <p>Metadata information</p>"},{"location":"services/datacatalogue/docs/","title":"Service Documentation","text":""},{"location":"services/datacatalogue/docs/#metadata","title":"Metadata","text":"<p>For more information on metadata, please read the following: Metadata</p>"},{"location":"services/datacatalogue/docs/#online-support","title":"Online support","text":""},{"location":"services/datacatalogue/metadata/","title":"EIDF Metadata Information","text":""},{"location":"services/datacatalogue/metadata/#what-is-fair","title":"What is FAIR?","text":"<p>FAIR stands for Findable, Accessible, Interoperable, and Reusable, and helps emphasise the best practices with publishing and sharing data (more details: FAIR Principles)</p>"},{"location":"services/datacatalogue/metadata/#what-is-metadata","title":"What is metadata?","text":"<p>Metadata is data about data, to help describe the dataset. Common metadata fields are things like the title of the dataset, who produced it, where it was generated (if relevant), when it was generated, and some key words describing it</p>"},{"location":"services/datacatalogue/metadata/#what-is-ckan","title":"What is CKAN?","text":"<p>CKAN is a metadata catalogue - i.e. it is a database for metadata rather than data. This will help with all aspects of FAIR:</p> <ul> <li>it will be a signposting portal for where the data actually resides</li> <li>it will ensure that at least metadata (even if not the data) is in a format which is easily retrievable via an identifier</li> <li>the metadata (and hopefully data) use terms from vocabularies that are widely recognised in the relevant field</li> <li>the metadata has lots of attributes to help others use it, and there are clear licence conditions where necessary</li> </ul>"},{"location":"services/datacatalogue/metadata/#what-metadata-will-we-need-to-provide","title":"What metadata will we need to provide?","text":"<ul> <li>the title of the dataset; if a short title is not particularly descriptive, then please add a longer, separate, description too.</li> <li>the name of the person who created the dataset</li> <li>if it has spatial relevance, the latitude and longitude of the location where the dataset was generated, if possible (e.g. if a sensor has collected data, then it should be straightforward to know the lat and long)</li> <li>the temporal period that the dataset covers</li> <li>it is important to standardise the licencing for all data and we will use Creative Commons 4.0 by default. If you want a different licence, please come and talk to us.</li> <li>If the dataset is from a third party, you must tell us the licence of that dataset</li> <li>As well as the theme you've picked for your WP directory, you can add other themes in the metadata file. For example, you might have decided your WP theme is geophysics, but a dataset is also related to geodesy. Again, please check that this term is in the FAST vocabulary.</li> <li>if there is likely to be more than 1 way that the data could be made available (e.g. netCDF and csv)</li> </ul>"},{"location":"services/datacatalogue/metadata/#why-do-i-need-to-use-a-controlled-vocabulary","title":"Why do I need to use a controlled vocabulary?","text":"<p>Using a standard vocabulary (such as the FAST Vocabulary)  has many benefits:</p> <ul> <li>the terms are managed by an external body</li> <li>the hierarchy has been agreed (e.g. you will see for that for geophysics, it has \"skos broader\" topics of \"physics\" and \"earth sciences\", which I hope you agree with! Don't worry what \"skos\" means)</li> <li>using controlled vocabularies means that everybody who uses it knows they are using the same definitions as everybody else using it</li> <li>the vocabulary is updated at given intervals</li> </ul> <p>All of these advantages mean that we, as a project, don't need to think about this - there is no need to reinvent the wheel when other institutes (e.g. National Libraries) have created. You might recognise WorldCat - it is an organisation which manages a global catalogue of ~18000 libraries world-wide, so they are in a good position to generate a comprehensive vocabulary of academic topics!</p>"},{"location":"services/datacatalogue/metadata/#what-about-licensing-what-does-cc-by-sa-40-mean","title":"What about licensing? (What does CC-BY-SA 4.0 mean?)","text":"<p>The R in FAIR stands for reusable - more specifically it includes this subphrase: \"(Meta)data are released with a clear and accessible data usage license\". This means that we have to tell anyone else who uses the data what they're allowed to do with it - and, under the FAIR philosophy, more freedom is better.</p> <p>CC-BY-SA 4.0 allows anyone to remix, adapt, and build upon your work (even for commercial purposes), as long as they credit you and license their new creations under the identical terms. It also explicitly includes Sui Generis Database Rights, giving rights to the curation of a database even if you don't have the rights to the items in a database (e.g. a Spotify playlist, even though you don't own the rights to each track).</p> <p>Human readable summary: Creative Commons 4.0 Human Readable Full legal code: Creative Commons 4.0 Legal Code</p>"},{"location":"services/datacatalogue/metadata/#im-stuck-how-do-i-get-help","title":"I'm stuck! How do I get help?","text":"<p>Contact the EIDF Service Team via eidf@epcc.ed.ac.uk</p>"},{"location":"services/datacatalogue/quickstart/","title":"Quickstart","text":""},{"location":"services/datacatalogue/quickstart/#accessing","title":"Accessing","text":""},{"location":"services/datacatalogue/quickstart/#first-task","title":"First Task","text":""},{"location":"services/datacatalogue/quickstart/#further-information","title":"Further information","text":""},{"location":"services/datacatalogue/tutorial/","title":"Tutorial","text":""},{"location":"services/datacatalogue/tutorial/#first-query","title":"First Query","text":""},{"location":"services/jhub/","title":"EIDF Jupyterhub","text":"<p>QuickStart</p> <p>Tutorial</p> <p>Documentation</p>"},{"location":"services/jhub/docs/","title":"Service Documentation","text":""},{"location":"services/jhub/docs/#online-support","title":"Online support","text":""},{"location":"services/jhub/quickstart/","title":"Quickstart","text":""},{"location":"services/jhub/quickstart/#accessing","title":"Accessing","text":""},{"location":"services/jhub/quickstart/#first-task","title":"First Task","text":""},{"location":"services/jhub/quickstart/#further-information","title":"Further information","text":""},{"location":"services/jhub/tutorial/","title":"Tutorial","text":""},{"location":"services/jhub/tutorial/#first-notebook","title":"First notebook","text":""},{"location":"services/rstudioserver/","title":"EIDF R Studio Server","text":"<p>QuickStart</p> <p>Tutorial</p> <p>Documentation</p>"},{"location":"services/rstudioserver/docs/","title":"Service Documentation","text":""},{"location":"services/rstudioserver/docs/#online-support","title":"Online support","text":""},{"location":"services/rstudioserver/quickstart/","title":"Quickstart","text":""},{"location":"services/rstudioserver/quickstart/#accessing","title":"Accessing","text":""},{"location":"services/rstudioserver/quickstart/#first-task","title":"First Task","text":""},{"location":"services/rstudioserver/quickstart/#creating-a-new-r-script","title":"Creating a New R Script","text":"<p>Your RStudio Server session has been initialised now. If you are participating in a workshop, then all the packages and data required for the workshop have been loaded into the workspace. All that remains is to create a new R script to contain your code!</p> <ol> <li>In the RStudio Server UI, open the File menu item at the far left of the main menu bar at the top of the page</li> <li>Hover over the \u2018New File\u2019 sub-menu item, then select \u2018R Script\u2019 from the expanded menu</li> <li>A new window pane will appear in the UI as shown below, and you are now ready to start adding the R code to your script!     RStudio Server UI screen with new script</li> </ol>"},{"location":"services/rstudioserver/quickstart/#further-information","title":"Further information","text":""},{"location":"services/rstudioserver/tutorial/","title":"Tutorial","text":""},{"location":"services/rstudioserver/tutorial/#first-notebook","title":"First notebook","text":""},{"location":"services/ultra2/","title":"Ultra2 Large Memory System","text":"<p>Get Access</p> <p>Running codes</p>"},{"location":"services/ultra2/access/","title":"Ultra2 Large Memory System","text":""},{"location":"services/ultra2/access/#getting-access","title":"Getting Access","text":"<p>Access to the Ultra2 system (also referred to as the SDF-CS1 system) is currently by arrangement with EPCC. Please email eidf@epcc.ed.ac.uk with a short description of the work you would like to perform.</p>"},{"location":"services/ultra2/run/","title":"Ultra2 High Memory System","text":""},{"location":"services/ultra2/run/#introduction","title":"Introduction","text":"<p>The Ultra2 system (also called the SDF-CS1) system, is a single logical CPU system based at EPCC. It is suitable for running jobs which require large volumes of non-distributed memory (as opposed to a cluster).</p>"},{"location":"services/ultra2/run/#specifications","title":"Specifications","text":"<p>The system is a HPE SuperDome Flex containing 576 individual cores in a SMT-1 arrangement (1 thread per core). The system has 18TB of memory available to users. Home directories are network mounted from the EIDF e1000 Lustre filesystem, although some local NVMe storage is available for temporary file storage during runs.</p>"},{"location":"services/ultra2/run/#login","title":"Login","text":"<p>To login to the host system, use the username and password you obtain from SAFE, along with the SSH Key you registered when creating the account. You can then login directly to the host via: <code>ssh &lt;username&gt;@sdf-cs1.epcc.ed.ac.uk</code></p>"},{"location":"services/ultra2/run/#software","title":"Software","text":"<p>The primary software provided is Intel's OneAPI suite containing mpi compilers and runtimes, debuggers and the vTune performance analyser. Standard GNU compilers are also available. The OneAPI suite can be loaded by sourcing the shell script:</p> <pre><code>source  /opt/intel/oneapi/setvars.sh\n</code></pre>"},{"location":"services/ultra2/run/#running-jobs","title":"Running Jobs","text":"<p>All jobs must be run via SLURM to avoid inconveniencing other users of the system. Users should not run jobs directly. Note that the system has one logical processor with a large number of threads and thus appears to SLURM as a single node. This is intentional.</p>"},{"location":"services/ultra2/run/#queue-limits","title":"Queue limits","text":"<p>We kindly request that users limit their maximum total running job size to 288 cores and 4TB of memory, whether that be a divided into a single job, or a number of jobs. This may be enforced via SLURM in the future.</p>"},{"location":"services/ultra2/run/#mpi-jobs","title":"MPI jobs","text":"<p>An example script to run a multi-process MPI \"Hello world\" example is shown.</p> <pre><code>#!/usr/bin/env bash\n#SBATCH -J HelloWorld\n#SBATCH --nodes=1\n#SBATCH --tasks-per-node=4\n#SBATCH --nodelist=sdf-cs1\n#SBATCH --partition=standard\n##SBATCH --exclusive\n\n\necho \"Running on host ${HOSTNAME}\"\necho \"Using ${SLURM_NTASKS_PER_NODE} tasks per node\"\necho \"Using ${SLURM_CPUS_PER_TASK} cpus per task\"\nlet mpi_threads=${SLURM_NTASKS_PER_NODE}*${SLURM_CPUS_PER_TASK}\necho \"Using ${mpi_threads} MPI threads\"\n\n# Source oneAPI to ensure mpirun available\nif [[ -z \"${SETVARS_COMPLETED}\" ]]; then\nsource /opt/intel/oneapi/setvars.sh\nfi\n\n# mpirun invocation for Intel suite.\nmpirun -n ${mpi_threads} ./helloworld.exe\n</code></pre>"},{"location":"services/virtualmachines/docs/","title":"Service Documentation","text":""},{"location":"services/virtualmachines/docs/#project-management-guide","title":"Project Management Guide","text":""},{"location":"services/virtualmachines/docs/#required-member-permissions","title":"Required Member Permissions","text":"<p>VMs and user accounts can only be managed by project members with Cloud Admin permissions. This includes the principal investigator (PI) of the project and all project managers (PM). Through SAFE the PI can designate project managers and the PI and PMs can grant a project member the Cloud Admin role:</p> <ol> <li>Click \"Manage Project in SAFE\" at the bottom of the project page (opens a new tab)</li> <li>On the project management page in SAFE, scroll down to \"Manage Members\"</li> <li>Click Add project manager or Set member permissions</li> </ol> <p>For details please refer to the SAFE documentation: How can I designate a user as a project manager?</p>"},{"location":"services/virtualmachines/docs/#create-a-vm","title":"Create a VM","text":"<p>To create a new VM:</p> <ol> <li>Select the project from the list of your projects, e.g. <code>eidfxxx</code></li> <li>Click on the 'New Machine' button</li> <li> <p>Complete the 'Create Machine' form as follows:</p> <ol> <li>Provide an appropriate name, e.g. <code>dev-01</code>. The project code will be prepended automatically     to your VM name, in this case your VM would be named <code>eidfxxx-dev-01</code>.</li> <li>Select a suitable operating system</li> <li>Select a machine specification that is suitable</li> <li>Choose the required disk size (in GB) or leave blank for the default</li> <li>Tick the checkbox \"Configure RDP access\" if you would like to install RDP    and configure VDI connections via RDP for your VM.</li> <li>Select the package installations from the software catalogue drop-down list,    or \"None\" if you don't require any pre-installed packages</li> </ol> </li> <li> <p>Click on 'Create'</p> </li> <li>You should see the new VM listed under the 'Machines' table on the project page and the status as 'Creating'</li> <li>Wait while the job to launch the VM completes.    This may take up to 10 minutes, depending on the configuration you requested.    You have to reload the page to see updates.</li> <li>Once the job has completed successfully the status shows as 'Active' in the list of machines.</li> </ol> <p>You may wish to ensure that the machine size selected (number of CPUs and RAM) does not exceed your remaining quota before you press Create, otherwise the request will fail.</p> <p>In the list of 'Machines' in the project page in the portal, click on the name of new VM to see the configuration and properties, including the machine specification, its <code>10.24.*.*</code> IP address and any configured VDI connections.</p>"},{"location":"services/virtualmachines/docs/#quota-and-usage","title":"Quota and Usage","text":"<p>Each project has a quota for the number of instances, total number of vCPUs, total RAM and storage. You will not be able to create a VM if it exceeds the quota.</p> <p>You can view and refresh the project usage compared to the quota in a table near the bottom of the project page. This table will be updated automatically when VMs are created or removed, and you can refresh it manually by pressing the \"Refresh\" button at the top of the table.</p> <p>Please contact the helpdesk if your quota requirements have changed.</p>"},{"location":"services/virtualmachines/docs/#add-a-user-account","title":"Add a user account","text":"<p>User accounts allow project members to log in to the VMs in a project. The Project PI and project managers manage user accounts for each member of the project. Users usually use one account (username and password) to log in to all the VMs in the same project that they can access, however a user may have multiple accounts in a project, for example for different roles.</p> <ol> <li>From the project page in the portal click on the 'Create account' button under the 'Project Accounts' table at the bottom</li> <li> <p>Complete the 'Create User Account' form as follows:</p> <ol> <li>Choose 'Account user name': this could be something sensible like the first and last names concatenated (or initials) together with the project name. The username is unique across all EPCC systems so the user will not be able to reuse this name in another project once it has been assigned.</li> <li>Select the project member from the 'Account owner' drop-down field</li> <li>Click 'Create'</li> </ol> </li> </ol> <p>The new account is allocated a temporary password which the account owner can view in their account details.</p>"},{"location":"services/virtualmachines/docs/#adding-access-to-the-vm-for-a-user","title":"Adding Access to the VM for a User","text":"<p>User accounts can be granted or denied access to existing VMs.</p> <ol> <li>Click 'Manage' next to an existing user account in the 'Project Accounts' table on the project page, or click on the account name and then 'Manage' on the account details page</li> <li>Select the checkboxes in the column \"Access\" for the VMs to which this account should have access or uncheck the ones without access</li> <li>Click the 'Update' button</li> <li>After a few minutes, the job to give them access to the selected VMs will complete and the account status will show as \"Active\".</li> </ol> <p>If a user is logged in already to the VDI at https://eidf-vdi.epcc.ed.ac.uk/vdi newly added connections may not appear in their connections list immediately. They must log out and log in again to refresh the connection information, or wait until the login token expires and is refreshed automatically - this might take a while.</p> <p>If a user only has one connection available in the VDI they will be automatically directed to the VM with the default connection.</p>"},{"location":"services/virtualmachines/docs/#sudo-permissions","title":"Sudo permissions","text":"<p>A project manager or PI may also grant sudo permissions to users on selected VMs. Management of sudo permissions must be requested in the project application - if it was not requested or the request was denied the functionality described below is not available.</p> <ol> <li>Click 'Manage' next to an existing user account in the 'Project Accounts' table on the project page</li> <li>Select the checkboxes in the column \"Sudo\" for the VMs on which this account is granted sudo permissions or uncheck to remove permissions</li> <li>Make sure \"Access\" is also selected for the sudo VMs to allow login</li> <li>Click the 'Update' button</li> </ol> <p>After a few minutes, the job to give the user account sudo permissions on the selected VMs will complete. On the account detail page a \"sudo\" badge will appear next to the selected VMs.</p> <p>Please contact the helpdesk if sudo permission management is required but is not available in your project.</p>"},{"location":"services/virtualmachines/docs/#first-login","title":"First login","text":"<p>A new user account is allocated a temporary password which the user must reset before they can log in for the first time. The password reset will not work when logging in via RDP - they must use a SSH connection, either in the VDI or via an SSH gateway.</p> <p>The user can view the temporary password in their account details page.</p>"},{"location":"services/virtualmachines/docs/#updating-an-existing-machine","title":"Updating an existing machine","text":""},{"location":"services/virtualmachines/docs/#adding-rdp-access","title":"Adding RDP Access","text":"<p>If you did not select RDP access when you created the VM you can add it later:</p> <ol> <li>Open the VM details page by selecting the name on the project page</li> <li>Click on 'Configure RDP'</li> <li>The configuration job runs for a few minutes.</li> </ol> <p>Once the RDP job is completed, all users that are allowed to access the VM will also be permitted to use the RDP connection.</p>"},{"location":"services/virtualmachines/docs/#software-catalogue","title":"Software catalogue","text":"<p>You can install packages from the software catalogue at a later time, even if you didn't select a package when first creating the machine.</p> <ol> <li>Open the VM details page by selecting the name on the project page</li> <li>Click on 'Software Catalogue'</li> <li>Select the configuration you wish to install and press 'Submit'</li> <li>The configuration job runs for a few minutes.</li> </ol>"},{"location":"services/virtualmachines/flavours/","title":"Flavours","text":"<p>These are the current Virtual Machine (VM) flavours (configurations) avaiable on the the Virtual Desktop cloud service. Note that all VMs are built and configured using the EIDF Portal by PIs of projects, except GPU flavours which much be reqested via the helpdesk.</p> Flavour Name vCPUs DRAM in GB Pinned Cores GPU general.v2.tiny 1 2 No No general.v2.small 2 4 No No general.v2.medium 4 8 No No general.v2.large 8 16 No No general.v2.xlarge 16 32 No No capability.v2.8cpu 8 112 Yes No capability.v2.16cpu 16 224 Yes No capability.v2.32cpu 32 448 Yes No capability.v2.48cpu 48 672 Yes No capability.v2.64cpu 64 896 Yes No gpu.v1.8cpu 8 128 Yes Yes gpu.v1.16cpu 16 256 Yes Yes gpu.v1.32cpu 32 512 Yes Yes gpu.v1.48cpu 48 768 Yes Yes"},{"location":"services/virtualmachines/quickstart/","title":"Quickstart","text":"<p>Projects using the Virtual Desktop cloud service are accessed via the EIDF Portal.</p> <p>Authentication is provided by SAFE, so if you do not have an active web browser session in SAFE, you will be redirected to the SAFE log on page. If you do not have a SAFE account follow the instructions in the SAFE documentation how to register and receive your password.</p>"},{"location":"services/virtualmachines/quickstart/#accessing-your-projects","title":"Accessing your projects","text":"<ol> <li> <p>Log into the portal at https://portal.eidf.ac.uk/.    The login will redirect you to the SAFE.</p> </li> <li> <p>View the projects that you have access to    at https://portal.eidf.ac.uk/project/</p> </li> </ol>"},{"location":"services/virtualmachines/quickstart/#joining-a-project","title":"Joining a project","text":"<ol> <li> <p>Navigate to https://portal.eidf.ac.uk/project/    and click the link to \"Request access\", or choose \"Request Access\" in the \"Project\" menu.</p> </li> <li> <p>Select the project that you want to join in the \"Project\" dropdown list -    you can search for the project name or the project code, e.g. \"eidf0123\".</p> </li> </ol> <p>Now you have to wait for your PI or project manager to accept your request to join.</p>"},{"location":"services/virtualmachines/quickstart/#accessing-a-vm","title":"Accessing a VM","text":"<ol> <li> <p>View your user accounts on the project page.</p> </li> <li> <p>Click on an account name to view details of the VMs that are you allowed to access    with this account, and look up the temporary password allocated to the account.</p> </li> <li> <p>Follow the link to the Guacamole login or    log in directly at https://eidf-vdi.epcc.ed.ac.uk/vdi/.    Please see the VDI guide for more information.</p> </li> <li> <p>Choose the SSH connection to log in for the first time. You will be asked to reset the password.</p> </li> </ol> <p>Warning</p> <p>Do not use RDP to login for the first time as you have to reset your password. Always use SSH to login to the VM for the first time.</p>"},{"location":"services/virtualmachines/quickstart/#further-information","title":"Further information","text":"<p>Managing VMs: Project management guide to creating, configuring and removing VMs and managing user accounts in the portal.</p> <p>Virtual Desktop Interface: Working with the VDI interface.</p>"},{"location":"status/","title":"EIDF Service Status","text":"<p>The table below represents the broad status of each EIDF service.</p> Service Status EIDF Portal VM SSH Gateway VM VDI Gateway Virtual Desktops Cerebras CS-2 SuperDome Flex (SDF-CS1 / Ultra2)"},{"location":"status/#maintenance-sessions","title":"Maintenance Sessions","text":"<p>There will be a service outage on the 3rd Thursday of every month from 9am to 5pm. We keep maintenance downtime to a minimum on the service but do occasionally need to perform essential work on the system. Maintenance sessions are used to ensure that:</p> <ul> <li>software versions are kept up to date;</li> <li>firmware levels on the underlying hardware are kept up to date;</li> <li>essential security patches are applied;</li> <li>failed/suspect hardware can be replaced;</li> <li>new software can be installed; periodic essential maintenance on electrical and mechanical support equipment (cooling systems and power distribution units) can be undertaken safely.</li> </ul> <p>The service will be returned to service ahead of 5pm if all the work is completed early.</p>"}]}